State chart диаграмма не моя, пытался её переделать, но всё пошло по пизде, я удалил свои наработки и закинул снова пример в проект.
Как только я перестану гореть с этого говна, то сразу доделаю и залью.
Но это просто какая-то хуета, кто занимается этим на работе и получает за это бабки, то мне их от всей души жаль, бедные люди...